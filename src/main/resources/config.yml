# =======================================================================
#  üõ°Ô∏è AEGISGUARD v1.3.0 - MASTER CONFIGURATION
# =======================================================================
#  "The Estate & Economy Update"
#  Restart server or use /agadmin reload after editing.
# =======================================================================

# =======================================================================
# üåê LANGUAGE SETTINGS (LOCALES)
# =======================================================================
settings:
  # Select the active language file from the /plugins/AegisGuard/locales/ folder.
  #
  # AVAILABLE OPTIONS:
  #  - en_hybrid.yml  (Default: "Estate", "Deed" - Professional RPG)
  #  - en_modern.yml  (Standard: "Claim", "Plot" - Simple Minecraft)
  #  - en_old.yml     (Hardcore: "Fiefdom", "Decree" - Medieval Roleplay)
  #
  # You can also create your own (e.g., es_ES.yml) and reference it here.
  language_file: "en_hybrid.yml"

# =======================================================================
# üéõÔ∏è MODULAR ARCHITECTURE (MASTER SWITCHBOARD)
# =======================================================================
# Disable modules here to completely remove them from the game.
# This saves RAM and unregisters unused commands.
# =======================================================================
modules:
  # Allow players to claim personal land? (Private Estates)
  private_estates: true

  # Enable the Guild/Alliance system? (Guild Estates)
  # Unlocks: /ag guild, Shared Treasuries, and Guild Plots.
  guild_system: true

  # The "Living Economy" Engine.
  # If false, land is free, and there is no upkeep/tax system.
  economy_engine: true

  # Enable the "Liquidation Chute" GUI?
  # Allows players to sell items to pay for upkeep.
  asset_liquidation: true

  # Enable the leveling systems? (Ascension & Bastion)
  # If false, plots are static and cannot be upgraded.
  progression_system: true

# =======================================================================
# üîå PLUGIN HOOKS & STORAGE
# =======================================================================
hooks:
  # --- Web Map Integration ---
  dynmap:
    enabled: true
    layer_name: "AegisGuard Estates"
    sync_interval_minutes: 5
    style:
      stroke_color: "00FF00"
      stroke_opacity: 0.8
      fill_color: "00FF00"
      fill_opacity: 0.35

  # --- Discord Webhook ---
  discord:
    enabled: true
    webhook_url: "https://discord.com/api/webhooks/..."
    events:
      claim_create: true
      guild_create: true       # [NEW]
      estate_liquidation: true # [NEW]
      admin_actions: true

  # --- Other Maps (Auto-Detected) ---
  bluemap: { enabled: true, label: "Estates" }
  pl3xmap: { enabled: true }

storage:
  # Options: "yml" (Local File) or "sql" (MySQL/MariaDB/SQLite)
  type: "yml"
  database:
    file: "aegisguard.db" # For SQLite
    # host: "localhost"
    # port: 3306
    # database: "aegisguard"
    # username: "root"
    # password: "password"

# =======================================================================
# üí∞ ECONOMY & LEDGER
# =======================================================================
economy:
  enabled: true
  use_vault: true
  currency_name: "Credits"

  # --- The Land Ledger (Pre-Paid Rent) ---
  ledger:
    # Allow players to deposit more than the current bill? (Rollover Credit)
    allow_overpayment: true
    # Maximum days of rent a player can pre-pay.
    max_prepay_days: 60
    # [NEW] Small Group Reserve
    # Prevent withdrawals if it drops protection below X days.
    min_reserve_days: 7

  # --- Asset Liquidation (Item Selling) ---
  liquidation:
    # Durability Calculation: Damaged items are worth less?
    respect_durability: true
    # Bonus value per enchantment level
    price_per_enchant: 10.0

  # --- Creation Costs ---
  costs:
    private_estate_creation: 500.0
    guild_creation: 5000.0      # Cost to form a Guild
    guild_estate_creation: 2000.0 # Cost to claim Guild Land

  # --- Smart Upkeep (Taxes) ---
  upkeep:
    enabled: true
    check_interval_hours: 24
    # The Formula: Base + (Blocks * Price)
    base_cost: 100.0
    price_per_block: 0.50
    # Penalty Multiplier if player owns > 5 plots
    landlord_penalty: 1.2
    # Grace period before deletion/liquidation
    grace_period_days: 7

# =======================================================================
# üè° ESTATE SETTINGS (Formerly Claims)
# =======================================================================
estates:
  # Limits
  max_estates_per_player: 3
  min_radius: 5
  max_radius: 100
  max_total_area: 50000

  # Naming & Identity
  naming:
    # Default names when claimed
    private_format: "%player%'s Estate"
    guild_format: "%guild% Estate"
    # Cost to rename an estate
    rename_cost: 500.0
    # Only Grandmasters can rename Guild Estates?
    grandmaster_only: true

  # World Settings
  per_world:
    world:
      allow_estates: true
      use_vault: true
    world_nether:
      allow_estates: true
      max_radius: 50
    world_the_end:
      allow_estates: false

# =======================================================================
# üè∞ GUILD SYSTEM SETTINGS
# =======================================================================
guilds:
  # Requirements to claim land as a Guild
  land_claiming:
    enabled: true
    min_members_required: 2 # Prevents solo guilds from claiming land

  # Security Protocols
  security:
    # Freeze Treasury if members drop below minimum?
    freeze_on_instability: true
    # Hours a new recruit must wait before counting for stability
    recruit_probation_hours: 72
    # How to handle money if Guild dissolves? (VOID or SPLIT)
    liquidation_payout: "SPLIT"

# =======================================================================
# üìà PROGRESSION (Ascension & Bastion)
# =======================================================================
progression:
  enabled: true

  # [NEW] Split Configuration
  # We have moved the massive reward lists to separate files
  # to keep this config clean.
  #
  # Private Estates -> Edit 'ascension.yml'
  # Guild Estates   -> Edit 'bastion.yml'

  # General Settings
  notifications:
    # Broadcast to server when someone reaches max level?
    broadcast_max_level: true
    # Firework effect on level up?
    play_effects: true

# =======================================================================
# üèóÔ∏è ZONING (Sub-Claims)
# =======================================================================
zoning:
  enabled: true
  max_zones_per_estate: 15
  # If true, 100% of rent goes to Estate Owner. If false, Server takes tax.
  landlord_gets_full_rent: true

# =======================================================================
# üìê EXPANSION REQUESTS (Land Grants)
# =======================================================================
expansions:
  # Base price per block
  price_per_block: 10.0

  # Scaling Factor (The bigger the plot, the more expensive to grow)
  scaling:
    # 0-2000 blocks: Normal Price
    small: { threshold: 0, multiplier: 1.0 }
    # 2000-5000 blocks: 1.5x Price
    medium: { threshold: 2000, multiplier: 1.5 }
    # 5000+ blocks: Double Price
    large: { threshold: 5000, multiplier: 2.0 }

# =======================================================================
# üé® VISUALS & TITLES
# =======================================================================
visuals:
  titles:
    enabled: true
    enter_format: "&7Entering &b%estate%"
    exit_format: "&7Leaving &b%estate%"
    action_bar: true

  particles:
    border_enabled: true
    # Default border style
    default_particle: "FLAME"

# =======================================================================
# üß© ADMIN & DEBUG
# =======================================================================
admin:
  # Sentinel Scepter (Admin Wand)
  wand_material: BLAZE_ROD
  bypass_limits: false
  debug_mode: false

# =======================================================================
# üîä SOUNDS
# =======================================================================
sounds:
  menu_click: { sound: UI_BUTTON_CLICK, volume: 1.0, pitch: 1.0 }
  claim_success: { sound: ENTITY_PLAYER_LEVELUP, volume: 1.0, pitch: 1.2 }
  error: { sound: BLOCK_NOTE_BLOCK_BASS, volume: 1.0, pitch: 0.5 }
  cash_register: { sound: BLOCK_NOTE_BLOCK_BELL, volume: 1.0, pitch: 1.5 }
