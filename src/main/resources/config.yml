# =======================================================================
#  üõ°Ô∏è AEGISGUARD v1.2.2 - MASTER CONFIGURATION
# =======================================================================
#  "The Estate & Economy Update"
#  Restart server or use /agadmin reload after editing.
# =======================================================================

# Internal version tracker. Do not edit.
config_version: 3

# =======================================================================
# üíæ DATA STORAGE (CRITICAL)
# =======================================================================
storage:
  # Choose your storage engine:
  #
  # 1. "yml" (Default)
  #    - Stores data in 'plugins/AegisGuard/plots.yml'.
  #    - Best for: Small servers, testing, or simple setups.
  #    - Pros: Human-readable. Cons: Slower on large servers.
  #
  # 2. "sqlite" (Recommended for Single Servers)
  #    - Stores data in a local 'aegisguard.db' file.
  #    - Best for: Performance without setup.
  #    - Pros: Much faster than YML. Zero configuration required.
  #
  # 3. "mysql" / "mariadb" (Advanced / Networks)
  #    - Connects to an external SQL database.
  #    - Best for: BungeeCord networks, web integrations, or massive player counts.
  #    - Requirement: You must have a MySQL database created.
  type: "yml"

  # ‚öôÔ∏è Database Credentials
  # Only required if type is set to "mysql" or "mariadb".
  database:
    host: "localhost"
    port: 3306
    database: "aegisguard"
    username: "root"
    password: "password"
    useSSL: false
    # Advanced: Connection pool settings (HikariCP)
    pool_size: 10
    connection_timeout: 5000

# =======================================================================
# üåê LANGUAGE & LOCALIZATION
# =======================================================================
settings:
  # Available Locales:
  # - en_old.yml     (Medieval/RP Style - "Thee/Thou")
  # - en_hybrid.yml  (Fantasy RPG - "Estate/Deed")
  # - en_modern.yml  (Standard - "Claim/Land")
  default_language_file: "en_old.yml"
  
  # Allow players to select their own language via GUI?
  allow_player_switching: true

# =======================================================================
# üéõÔ∏è MODULES (Feature Toggles)
# =======================================================================
modules:
  private_estates: true
  guild_system: true
  economy_engine: true
  asset_liquidation: true
  progression_system: true

# =======================================================================
# üîå EXTERNAL HOOKS
# =======================================================================
hooks:
  # --- Web Maps ---
  dynmap:
    enabled: true
    layer_name: "AegisGuard Estates"
    sync_interval_minutes: 5
    style:
      stroke_color: "00FF00"
      fill_color: "00FF00"
      fill_opacity: 0.35
  
  bluemap: { enabled: true, label: "Estates" }
  pl3xmap: { enabled: true }

  # --- Discord Integration ---
  discord:
    enabled: true
    webhook_url: "https://discord.com/api/webhooks/..."
    events:
      claim_create: true
      claim_delete: true
      claim_merge: true
      admin_actions: true

# =======================================================================
# üí∞ ECONOMY & CURRENCY
# =======================================================================
economy:
  enabled: true
  use_vault: true
  
  # Fallback Item Cost (If Vault is missing)
  item_cost: { type: DIAMOND, amount: 5 }

  # Base Costs
  claim_cost: 100.0
  resize_cost_per_block: 10.0

  # Feature Unlocks (0.0 = Free)
  flag_costs:
    fly: 5000.0
    shop-interact: 500.0 # Public Chest Access

  # Refunds
  refund_on_unclaim: true
  refund_percent: 50.0

# =======================================================================
# üß± CLAIMS & LIMITS
# =======================================================================
claims:
  max_claims_per_player: 2
  min_radius: 5
  max_radius: 64
  max_area: 16000
  preview_seconds: 10
  
  # Wand Settings
  consume_wand_on_claim: true
  admin_keep_wand: true

  # Merging
  merging:
    enabled: true
    cost: 500.0
    require_alignment: true

  # Travel
  travel_system:
    enabled: true
    allow_home_teleport: true
    allow_visit_teleport: true

  # Per-World Limits
  per_world:
    world:
      allow_claims: true
      max_radius: 64
    world_nether:
      allow_claims: true
      max_radius: 32
    world_the_end:
      allow_claims: false

# =======================================================================
# üìà LEVELING & PROGRESSION
# =======================================================================
leveling:
  enabled: true
  base_cost: 1000.0
  cost_multiplier: 1.5
  max_level: 30

  # Should leveling up physically expand the plot size?
  expand_plot_on_levelup: false
  expansion_amount: 5

  # Rewards (Format: EFFECT:TYPE:LEVEL or FLAG:NAME or MEMBERS:AMOUNT)
  rewards:
    1: ["EFFECT:SPEED:1", "RADIUS:5"]
    2: ["EFFECT:SPEED:2", "MEMBERS:1"]
    3: ["EFFECT:FAST_DIGGING:1", "RADIUS:5"]
    4: ["EFFECT:FAST_DIGGING:2", "MEMBERS:1"]
    5: ["EFFECT:JUMP:1", "RADIUS:10"]
    10: ["FLAG:fly", "MEMBERS:3"]
    20: ["EFFECT:SPEED:3", "MEMBERS:5"]
    30: ["FLIGHT", "RADIUS:100", "MEMBERS:20"]

# =======================================================================
# üèóÔ∏è ZONING (Rentals)
# =======================================================================
zoning:
  enabled: true
  max_zones_per_plot: 10
  landlord_gets_full_rent: true

# =======================================================================
# ‚öôÔ∏è PROTECTION DEFAULTS
# =======================================================================
protections:
  # Global behavior settings
  pvp_protection: true
  no_mobs_in_claims: true
  container_protection: true
  tnt-damage: true
  fire-spread: true
  piston-use: true

  # Default Flags applied to NEW plots
  fly: false
  entry: true
  shop-interact: false

# =======================================================================
# üõ°Ô∏è ACTIVE MOB BARRIER
# =======================================================================
mob_barrier:
  enabled: true
  check_interval_ticks: 60
  # If true, mobs inside protected areas are silently removed
  remove_particles: true

# =======================================================================
# üé® COSMETICS
# =======================================================================
cosmetics:
  border_particles:
    flame:   { material: BLAZE_POWDER, particle: FLAME, display-name: "&6Flame Border", price: 1000.0 }
    heart:   { material: POPPY, particle: HEART, display-name: "&cHeart Border", price: 2500.0 }
    soul:    { material: SOUL_SAND, particle: SOUL_FIRE_FLAME, display-name: "&bSoul Flame Border", price: 5000.0 }
    enchant: { material: ENCHANTING_TABLE, particle: ENCHANTMENT_TABLE, display-name: "&dEnchantment Border", price: 3000.0 }

  entry_effects:
    lightning: { sound: ENTITY_LIGHTNING_BOLT_THUNDER, particle: FLASH }

# =======================================================================
# üîÆ VISUALS
# =======================================================================
titles:
  enabled: true
  notification_location: ACTION_BAR
  fade_in: 10
  stay: 40
  fade_out: 10

# =======================================================================
# üß© ADMIN & DEBUG
# =======================================================================
admin:
  wand_material: BLAZE_ROD
  auto_remove_banned: false
  bypass_claim_limit: false
  broadcast_admin_actions: true
  unlimited_plots: true
  trust_operators: true

# =======================================================================
# üîä SOUNDS
# =======================================================================
sounds:
  global_enabled: true
  menu_open: { sound: BLOCK_CHEST_OPEN, volume: 0.7, pitch: 1.0 }
  confirm: { sound: ENTITY_PLAYER_LEVELUP, volume: 0.7, pitch: 1.2 }
  error: { sound: BLOCK_NOTE_BLOCK_BASS, volume: 1.0, pitch: 0.8 }
  claim_success: { sound: ENTITY_PLAYER_LEVELUP, volume: 1.0, pitch: 1.2 }

# =======================================================================
# üí• PROTECTION FEEDBACK
# =======================================================================
protection_effects:
  enabled: true
  defaults: { deny_sound: BLOCK_NOTE_BLOCK_BASS, deny_particle: SMOKE_NORMAL }
  pvp: { deny_sound: ENTITY_ENDERMAN_TELEPORT, deny_particle: REDSTONE }
  containers: { deny_sound: BLOCK_CHEST_LOCKED, deny_particle: CRIT }
  mobs: { deny_sound: ENTITY_ZOMBIE_ATTACK_IRON_DOOR, deny_particle: FLAME }

# =======================================================================
# üë• ROLE MANAGEMENT
# =======================================================================
roles:
  owner:
    name: "&cOwner"
    priority: 100
    permissions: [ALL]
  member:
    name: "&aMember"
    priority: 50
    permissions: [BLOCK_BREAK, BLOCK_PLACE, INTERACT, CONTAINER]
  visitor:
    name: "&7Visitor"
    priority: 0
    permissions: [USE_DOORS, USE_BUTTONS]
