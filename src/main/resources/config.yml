# ======================================
#  AegisGuard v1.0.1 - Config
# ======================================
#  Core configuration file for AegisGuard.
#  Provides language, economy, claim, protection,
#  expansion, and admin customization options.
# ======================================

# ======================================
# üîå Plugin Hooks & Storage
# ======================================
hooks:
  dynmap:
    enabled: true
    # The name of the layer on the Dynmap web UI.
    layer_name: "AegisGuard Plots"
    # How often (in minutes) to re-scan all plots.
    sync_interval_minutes: 5
    # Style of the plot markers
    style:
      stroke_color: "00FF00"  # Line color (hex)
      stroke_opacity: 0.8       # Line opacity (0.0 - 1.0)
      stroke_weight: 3          # Line thickness
      fill_color: "00FF00"    # Fill color (hex)
      fill_opacity: 0.35        # Fill opacity (0.0 - 1.0)

storage:
  # Select your data storage type.
  # "yml" - (Default) Saves all plot data to plots.yml. Simple, good for small servers.
  # "sql" - (Recommended) Saves all data to a database. Required for Wilderness Revert.
  type: "yml"
  
  database:
    # Settings for "sql" type
    # By default, this uses SQLite, which requires no setup.
    # The file will be created at: /plugins/AegisGuard/aegisguard.db
    file: "aegisguard.db"
    
    # --- Example for MySQL (uncomment to use) ---
    # type: "mysql"
    # host: "localhost"
    # port: 3306
    # database: "aegisguard"
    # username: "user"
    # password: "password"
    # useSSL: false

# ======================================
# üó£Ô∏è Message & Language System
# ======================================
messages:
  language_style: "old_english"      # Default tone: old_english / hybrid_english / modern_english
  allow_runtime_switch: true       # If true, allows live switching via GUI or command
  show_language_button_in_gui: true    # Displays the ‚ÄúLanguage Tone‚Äù selector in Settings GUI

# ======================================
# üí∞ Economy (Global Defaults)
# ======================================
use_vault: true                     # Use Vault economy for claims
claim_cost: 100.0                   # Cost (Vault currency) per claim
item_cost:                          # Alternative cost if use_vault = false
  type: DIAMOND
  amount: 5

refund_on_unclaim: false              # Enable refunding upon unclaim
refund_percent: 0                   # Refund percentage (0 = none, 50 = half, etc.)
resize-cost-per-block: 10.0         # Vault cost for each new block when using /ag resize

# ======================================
# üí∏ Plot Upkeep & Rent
# ======================================
# This system automatically charges players to "rent" their claimed plots.
# If they fail to pay, their plot will be automatically unclaimed.
upkeep:
  enabled: false                    # Set to true to enable the plot upkeep system.
  
  # How often (in hours) the plugin should check every plot.
  check_interval_hours: 24
  
  # The cost (in Vault currency) per plot, per interval.
  cost_per_plot: 100.0
  
  # How long (in days) a player has to pay for an overdue plot
  # before it is automatically auctioned.
  grace_period_days: 7

# ======================================
# ‚öñÔ∏è Plot Auctions
# ======================================
# Settings for when a plot's grace period expires.
auction:
  # How long (in days) an expired plot stays up for auction.
  duration_days: 3
  
  # The minimum amount a bid must be raised by.
  min_bid_increase: 100.0
  
  # What % of the final bid is given to the original owner.
  owner_cut_percent: 50 # 50%

# ======================================
# üå≤ Wilderness Grief Revert
# ======================================
# NOTE: This feature ONLY works if storage.type is "sql" or "mysql".
wilderness_revert:
  enabled: true
  # How long to wait (in hours) before reverting a block.
  revert_after_hours: 2
  # How often (in minutes) to check for blocks to revert.
  check_interval_minutes: 10
  # How many blocks to revert in one batch.
  revert_batch_size: 500
  
# =============================================================
# üß™ DEMO MODE (For Public Test Servers)
# =============================================================
# WARNING: If enabled, plots will be AUTOMATICALLY DELETED after
# the specified time limit. Do not use on a real survival server.
demo_mode:
  enabled: false
  plot_lifetime_minutes: 180  # 3 Hours

# ======================================
# üß± Claims & World Rules
# ======================================
claims:
  # --- Global Claim Defaults ---
  max_claims_per_player: 1
  min_radius: 1
  max_radius: 32
  max_area: 16000
  preview_seconds: 10

  # --- Wand Consumption Settings ---
  # Should the Aegis Scepter be removed from the inventory after a successful claim?
  consume_wand_on_claim: true
  
  # If true, players with 'aegis.admin' keep their wand even after claiming.
  admin_keep_wand: true

  # --- Optional Per-World Settings ---
  per_world:
    # üè∞ Overworld ‚Äì balanced protection
    world:
      allow_claims: true
      use_vault: true
      vault_cost: 200.0
      item_cost:
        type: EMERALD
        amount: 10
      refund_on_unclaim: true
      refund_percent: 50
      max_claims_per_player: 2
      min_radius: 4
      max_radius: 48
      max_area: 25000
      protections:
        pvp: true
        mobs: true
        containers: true
        pets: true
        entities: true
        farm: true
        tnt-damage: true
        fire-spread: true
        piston-use: true

    # üî• Nether ‚Äì harsh realm, PvP & mobs allowed
    world_nether:
      allow_claims: true
      use_vault: false
      item_cost:
        type: GOLD_INGOT
        amount: 20
      refund_on_unclaim: false
      refund_percent: 0
      max_claims_per_player: 1
      min_radius: 2
      max_radius: 16
      max_area: 8000
      protections:
        pvp: false
        mobs: false
        containers: true
        pets: false
        entities: true
        farm: false
        tnt-damage: false
        fire-spread: false
        piston-use: true

    # üåå The End ‚Äì unclaimable and mysterious realm
    world_the_end:
      allow_claims: false
      max_claims_per_player: 0
      protections:
        pvp: true
        mobs: true
        containers: false
        pets: false
        entities: true
        farm: false
        tnt-damage: true
        fire-spread: true
        piston-use: false

# ======================================
# ‚öôÔ∏è Protections (Global Defaults)
# ======================================
protections:
  pvp_protection: true
  no_mobs_in_claims: true
  container_protection: true
  pets_protection: true
  entities_protection: true
  farm_protection: true
  tnt-damage: true      # Prevents explosions from breaking blocks
  fire-spread: true     # Prevents fire from spreading
  piston-use: true      # Prevents pistons from pushing/pulling blocks into/out of claims
  
  # --- Flags ---
  fly: false
  entry: true

# ======================================
# üè≥Ô∏è Plot Roles
# ======================================
# Define the permissions for each plot role.
roles:
  co-owner:
    - BUILD
    - CONTAINERS
    - INTERACT
    - PET_DAMAGE
    - ENTITY_INTERACT
    - FARM_TRAMPLE
  member:
    - BUILD
    - CONTAINERS
    - INTERACT
    - FARM_TRAMPLE
  guest:
    - INTERACT
  default:
    - INTERACT

# ======================================
# üîä Sounds & Immersion
# ======================================
sounds:
  global_enabled: true              # Global sound toggle
  players: {}                       # Per-player overrides (auto-managed)

  # --- Configurable UI Sounds ---
  menu_open:
    sound: BLOCK_CHEST_OPEN
    volume: 0.7
    pitch: 1.0
  menu_flip:
    sound: UI_BUTTON_CLICK
    volume: 0.7
    pitch: 1.2
  menu_close:
    sound: BLOCK_CHEST_CLOSE
    volume: 0.7
    pitch: 1.0
  confirm:
    sound: ENTITY_PLAYER_LEVELUP
    volume: 0.7
    pitch: 1.2
  error:
    sound: BLOCK_NOTE_BLOCK_BASS
    volume: 1.0
    pitch: 0.8
  claim_success:
    sound: ENTITY_PLAYER_LEVELUP
    volume: 1.0
    pitch: 1.2
  unclaim:
    sound: ENTITY_VILLAGER_NO
    volume: 0.8
    pitch: 0.9

# ======================================
# ‚ú® Plot Visualization
# ======================================
visualization:
  enabled: true
  
  # Default particle for plot borders.
  particle: "FLAME"
  
  # Color to use (R,G,B) IF particle is set to REDSTONE/DUST
  color: "0,255,255" # A nice cyan
  
  # How often to refresh the particles (in ticks). 20 ticks = 1 second.
  interval_ticks: 40 # 2 seconds

# ======================================
# üé® Plot Cosmetics
# ======================================
cosmetics:
  border_particles:
    flame:
      material: BLAZE_POWDER
      particle: FLAME
      display-name: "&6Flame Border"
      price: 1000.0
    heart:
      material: POPPY
      particle: HEART
      display-name: "&cHeart Border"
      price: 2500.0
    soul:
      material: SOUL_SAND
      particle: SOUL_FIRE_FLAME
      display-name: "&bSoul Flame Border"
      price: 5000.0
    enchant:
      material: ENCHANTING_TABLE
      particle: ENCHANTMENT_TABLE
      display-name: "&dEnchantment Border"
      price: 3000.0
    
  ambient_particles:
    pass

  entry_effects:
    pass

# ======================================
# üßæ Expansion Requests
# ======================================
expansions:
  enabled: true                     
  approval_required: true           
  notify_admins: true               
  
  # Limits
  max_radius_global: 100
  buffer_zone: 5

  # Economy
  cost_per_block: 5.0
  cost_multiplier: 1.5

# ======================================
# üõ°Ô∏è Protection Effects
# ======================================
protection_effects:
  enabled: true
  defaults:
    deny_sound: BLOCK_NOTE_BLOCK_BASS
    deny_particle: SMOKE_NORMAL
    deny_volume: 1.0
    deny_pitch: 1.0
    success_sound: ENTITY_EXPERIENCE_ORB_PICKUP
    success_particle: VILLAGER_HAPPY
    fail_sound: BLOCK_ANVIL_LAND
    fail_particle: SMOKE_NORMAL
  # Per-category overrides
  pvp:
    deny_sound: ENTITY_ENDERMAN_TELEPORT
    deny_particle: REDSTONE
  containers:
    deny_sound: BLOCK_CHEST_LOCKED
    deny_particle: CRIT
  mobs:
    deny_sound: ENTITY_ZOMBIE_ATTACK_IRON_DOOR
    deny_particle: FLAME
  pets:
    deny_sound: ENTITY_CAT_HISS
    deny_particle: HEART
  entities:
    deny_sound: BLOCK_ANVIL_PLACE
    deny_particle: CRIT_MAGIC
  farm:
    deny_sound: BLOCK_CROP_BREAK
    deny_particle: VILLAGER_ANGRY

# ======================================
# üõ°Ô∏è Active Mob Barrier
# ======================================
mob_barrier:
  enabled: true
  check_interval_ticks: 60
  remove_particles: true

# ======================================
# üß© Admin Options
# ======================================
admin:
  auto_remove_banned: false         
  bypass_claim_limit: false         
  broadcast_admin_actions: false    
  allow_language_command: true      
  unlimited_plots: true             

  # --- SECURITY: Operator Trust ---
  # If set to TRUE: Players with /op automatically get full access to AegisGuard.
  # If set to FALSE: OPs are treated like normal players unless they have the 'aegis.admin' permission.
  trust_operators: true  # <--- [FIXED: Enabled]
