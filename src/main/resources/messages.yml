# =======================================================================
#  üõ°Ô∏è AEGISGUARD v1.2.2 - MASTER CONFIGURATION
# =======================================================================
#  "The Classic Protection Update"
#  Restart server or use /agadmin reload after editing.
# =======================================================================

config_version: 3

# =======================================================================
# üíæ DATA STORAGE
# =======================================================================
storage:
  # Storage Engine Options:
  # 1. "yml"    - Local file storage (plugins/AegisGuard/plots.yml). Default.
  # 2. "sqlite" - Local database file (aegisguard.db). Fast, no setup.
  # 3. "mysql"  - External database. Best for large networks/Bungee.
  type: "yml"

  # Database Credentials (Required for "mysql")
  database:
    host: "localhost"
    port: 3306
    database: "aegisguard"
    username: "root"
    password: "password"
    useSSL: false
    pool_size: 10
    connection_timeout: 5000

# =======================================================================
# üåê LANGUAGE & LOCALIZATION
# =======================================================================
# AegisGuard uses a single 'messages.yml' file containing multiple styles.
language:
  # The server-wide default language style.
  # Must match a root key in messages.yml (e.g., old_english, modern_english).
  default_style: "old_english"

  # Allow players to select their own personal language style via /ag settings?
  # If false, everyone sees the 'default_style'.
  allow_player_switching: true

# =======================================================================
# üéõÔ∏è MODULES
# =======================================================================
modules:
  land_claims: true       # Main claiming system
  guild_system: true      # The King's Ledger
  economy_engine: true    # Vault/Item economy
  asset_liquidation: true # Trash-to-Cash
  progression_system: true # Leveling/Ascension

# =======================================================================
# üîå EXTERNAL HOOKS
# =======================================================================
hooks:
  # --- Web Maps ---
  dynmap:
    enabled: true
    layer_name: "AegisGuard Plots"
    sync_interval_minutes: 5
    style:
      stroke_color: "00FF00"
      fill_color: "00FF00"
      fill_opacity: 0.35
  
  bluemap: { enabled: true, label: "Plots" }
  pl3xmap: { enabled: true }

  # --- Discord ---
  discord:
    enabled: true
    webhook_url: "https://discord.com/api/webhooks/..."
    events:
      claim_create: true
      claim_delete: true
      admin_actions: true

# =======================================================================
# üí∞ ECONOMY
# =======================================================================
economy:
  enabled: true
  use_vault: true
  
  # Fallback (Item Cost if Vault is missing)
  item_cost: { type: DIAMOND, amount: 5 }

  # Standard Pricing
  claim_cost: 100.0
  resize_cost_per_block: 10.0
  
  # Feature Pricing
  flag_costs:
    fly: 5000.0
    shop-interact: 500.0

  # Refunds
  refund_on_unclaim: true
  refund_percent: 50.0

# =======================================================================
# üß± PLOT SETTINGS
# =======================================================================
claims:
  max_claims_per_player: 2
  min_radius: 5
  max_radius: 64
  max_area: 16000
  preview_seconds: 10
  
  # Tools
  consume_wand_on_claim: true
  admin_keep_wand: true

  # Merging
  merging:
    enabled: true
    cost: 500.0
    require_alignment: true

  # Teleportation
  travel_system:
    enabled: true
    allow_home_teleport: true
    allow_visit_teleport: true

  # World Settings
  per_world:
    world:
      allow_claims: true
      max_radius: 64
    world_nether:
      allow_claims: true
      max_radius: 32
    world_the_end:
      allow_claims: false

# =======================================================================
# üìà LEVELING (Ascension)
# =======================================================================
leveling:
  enabled: true
  base_cost: 1000.0
  cost_multiplier: 1.5
  max_level: 30
  expand_plot_on_levelup: false
  expansion_amount: 5
  
  rewards:
    1: ["EFFECT:SPEED:1", "RADIUS:5"]
    5: ["EFFECT:JUMP:1", "RADIUS:10"]
    10: ["FLAG:fly", "MEMBERS:3"]
    30: ["FLIGHT", "RADIUS:100", "MEMBERS:20"]

# =======================================================================
# üèóÔ∏è ZONING & PROTECTION
# =======================================================================
zoning:
  enabled: true
  max_zones_per_plot: 10
  landlord_gets_full_rent: true

protections:
  pvp_protection: true
  no_mobs_in_claims: true
  container_protection: true
  tnt-damage: true
  fire-spread: true
  
  # Default Flags for new plots
  fly: false
  entry: true
  shop-interact: false

mob_barrier:
  enabled: true
  check_interval_ticks: 60
  remove_particles: true

# =======================================================================
# üé® COSMETICS
# =======================================================================
cosmetics:
  border_particles:
    flame: { material: BLAZE_POWDER, particle: FLAME, display-name: "&6Flame Border", price: 1000.0 }
    heart: { material: POPPY, particle: HEART, display-name: "&cHeart Border", price: 2500.0 }
    soul:  { material: SOUL_SAND, particle: SOUL_FIRE_FLAME, display-name: "&bSoul Flame", price: 5000.0 }

  entry_effects:
    lightning: { sound: ENTITY_LIGHTNING_BOLT_THUNDER, particle: FLASH }

# =======================================================================
# üß© ADMIN & VISUALS
# =======================================================================
titles:
  enabled: true
  notification_location: ACTION_BAR
  fade_in: 10
  stay: 40
  fade_out: 10

admin:
  wand_material: BLAZE_ROD
  auto_remove_banned: false
  bypass_claim_limit: false
  broadcast_admin_actions: true
  trust_operators: true

# =======================================================================
# üîä SOUNDS
# =======================================================================
sounds:
  global_enabled: true
  menu_open: { sound: BLOCK_CHEST_OPEN, volume: 1.0, pitch: 1.0 }
  confirm: { sound: ENTITY_PLAYER_LEVELUP, volume: 1.0, pitch: 1.2 }
  error: { sound: BLOCK_NOTE_BLOCK_BASS, volume: 1.0, pitch: 0.5 }
  claim_success: { sound: ENTITY_PLAYER_LEVELUP, volume: 1.0, pitch: 1.2 }

# =======================================================================
# üí• PROTECTION FEEDBACK
# =======================================================================
protection_effects:
  enabled: true
  defaults: { deny_sound: BLOCK_NOTE_BLOCK_BASS, deny_particle: SMOKE_NORMAL }
  pvp: { deny_sound: ENTITY_ENDERMAN_TELEPORT, deny_particle: REDSTONE }
  containers: { deny_sound: BLOCK_CHEST_LOCKED, deny_particle: CRIT }
  mobs: { deny_sound: ENTITY_ZOMBIE_ATTACK_IRON_DOOR, deny_particle: FLAME }

# =======================================================================
# üë• ROLES
# =======================================================================
roles:
  owner:
    name: "&cOwner"
    priority: 100
    permissions: [ALL]
  member:
    name: "&aMember"
    priority: 50
    permissions: [BLOCK_BREAK, BLOCK_PLACE, INTERACT, CONTAINER]
  visitor:
    name: "&7Visitor"
    priority: 0
    permissions: [USE_DOORS, USE_BUTTONS]
